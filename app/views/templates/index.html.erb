<p id="notice"><%= notice %></p>

<h1>Templates</h1>

<% @current_assignment_ids.each do |ca_id|  %>
  <%= link_to ca_id, templates_path(current_assignment_id: ca_id), class: %{btn btn-info} %>
<% end %>

<table class='table table-striped'>
  <thead>
    <tr>
      <th>id</th>
      <th>Status</th>
      <th>User</th>
      <th>Current assignment</th>
      <th>Assignment</th>
      <th>Line count</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @templates.each do |template| %>
      <tr>
        <td><%= template.id %></td>
        <td><%= template.status %></td>
        <td><%= template.user_id %></td>
        <td><%= template.current_assignment_id %></td>
        <td><%= template.assignment_id %></td>
        <td><%= template.template_lines.length  %></td>
        <td><%= link_to 'Show', template %></td>
        <td><%= link_to 'Edit', edit_template_path(template) %></td>
        <td><%= link_to 'Destroy', template, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Template', new_template_path %>
